define("fishstrap/ui/query.js",function(e,n,r){var o=e("fishstrap/core/global.js"),a=(e("fishstrap/ui/dialog.js"),e("fishstrap/ui/table.js")),t=e("fishstrap/ui/input.js");r.exports={simpleQuery:function(e){var n={id:"",column:[],queryColumn:[],params:{},operate:[],checkAll:!1,url:"",button:[]};for(var r in e)n[r]=e[r];var i=o.uniqueNum(),u=o.uniqueNum(),l=o.uniqueNum(),c=o("#"+n.id),s=o('<form id="'+i+'" class="form-inline m10"></form><div class="m10"><div id="'+l+'"></div><div id="'+u+'"></div></div>');c.empty(),c.append(s),o.console.log(o.JSON.stringify(e.column));for(var f=o.url.toInfo(location.href).search,p=a.staticTable({id:u,params:o.url.toInfo(location.href).search,column:n.column,operate:n.operate,checkAll:n.checkAll,url:n.url,pageIndex:f.pageIndex||0,pageSize:f.pageSize||10,nextPage:function(e){var n=o.url.toInfo(location.href);n.search=o.extend(n.search,e),location.href=o.url.fromInfo(n)}}),m=[],r=0;r!=n.queryColumn.length;++r){for(var d,h=n.queryColumn[r],v=0;v!=n.column.length;++v){var g=n.column[v];if(g.id==h){d=_.clone(g);break}}"enum"==d.type?d.map=o.extend({"":"请选择"},d.map):"check"==d.type&&(d.type="enum",d.map=o.extend({"":"请选择"},d.map)),m.push(d)}t.flowInput({id:i,field:m,value:f,submit:function(e){var n=o.url.toInfo(location.href);n.search=o.extend(n.search,e),n.search.pageIndex=0,location.href=o.url.fromInfo(n)}});for(var r=0;r!=n.button.length;++r){var b=n.button[r];!function(e){var n=o('<button class="btn">'+e.name+"</button>");n.click(e.click),o("#"+l).append(n)}(b)}return p}}});