define("fishstrap/react/react-rich-editor.js",function(e,t,n){var i=StyleSheet.create({root:{position:"relative",overflow:"hidden"},content:{},placeholder:{position:"absolute",display:"none",left:"0px",right:"0px",top:"0px",fontSize:"16px",color:"grey"}});n.exports=React.createClass({mixins:[React.addons.PureRenderMixin],getDefaultProps:function(){},_selection:function(e){document.getSelection().removeAllRanges();var t=document.createRange();t.setStart(e[0],0),t.collapse(!0),document.getSelection().addRange(t)},_setEmptyHtml:function(){var e=$("<p><br/></p>");this._inputElement.html(e),this._selection(this._inputElement.find("p"))},_checkPlaceHolder:function(){var e=this,t=e._inputElement.text(),n=e._inputElement.find("img").length>0;0==n&&""==t?e._placeholderElement.show():e._placeholderElement.hide()},_initEvent:function(){var e=this;e._inputElement.on("input",function(t){e._checkPlaceHolder(),""==e._inputElement.html()&&(e._setEmptyHtml(),t.preventDefault()),e.props.onChange&&e.props.onChange(e._inputElement.html())})},_initProps:function(e){e.value!=this._inputElement.html()&&this._inputElement.html(e.value),""==this._inputElement.html()&&this._setEmptyHtml(),this._placeholderElement.text(this.props.placeholder),this._checkPlaceHolder()},bold:function(){document.execCommand("bold","false",null)},insertHtml:function(e){document.execCommand("insertHtml","false",e)},insertImage:function(e){document.execCommand("insertImage","false",e)},insertImageWithNewParagraph:function(e){var t=$('<p><img src="'+e+'" style="max-width:80%;"></p>');this._inputElement.append(t),this.props.onChange&&this.props.onChange(this._inputElement.html())},componentDidMount:function(){this._inputElement=$(React.findDOMNode(this.refs.input)),this._placeholderElement=$(React.findDOMNode(this.refs.placeholder)),this._initProps(this.props),this._initEvent()},componentWillReceiveProps:function(e){this._initProps(e)},render:function(){return React.createElement("div",{className:CX(i.root,this.props.className),style:this.props.style},React.createElement("div",{className:i.content,ref:"input",autoFocus:"true",contentEditable:"true"}),React.createElement("div",{className:i.placeholder,ref:"placeholder"}))}})});